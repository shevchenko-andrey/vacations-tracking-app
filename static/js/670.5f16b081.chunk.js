"use strict";(self.webpackChunkvacations_tracking_app=self.webpackChunkvacations_tracking_app||[]).push([[670],{5546:function(e,t,r){var n,a;r.d(t,{V:function(){return n},f:function(){return a}}),function(e){e.TABLE_VIEW="table view",e.CALENDAR_VIEW="calendar view"}(n||(n={})),function(e){e.ACTUAL="actual",e.HISTORY="history"}(a||(a={}))},9670:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var n,a=r(885),i=r(2419),c=r(2791),o=r(1087),l=r(919),s=r(5546),u=r(6015),d=r(5590),f=r(4565),h=r(7205),p=r(4165),x=r(5861),Z=r(2426),m=r.n(Z),j=r(2476),v=r(1441),g=r(7834);!function(e){e.DOT_FORMAT="DD.MM.YYYY",e.DAY="D",e["SPA\u0421E_FULL_FORMAT"]="DD MM YYYY hh:mm:ss"}(n||(n={}));var A=r(184),w=[{field:"id",headerName:"Absence ID",width:130},{field:"type",headerName:"Type",width:120},{field:"startDate",headerName:"Start Date",width:130,valueGetter:function(e){return m()(e.row.startDate).format(n.DOT_FORMAT)}},{field:"endDate",headerName:"End Date",width:130,valueGetter:function(e){return m()(e.row.endDate).format(n.DOT_FORMAT)}},{field:"notes",headerName:"Notes",width:400},{field:"actions",headerName:"Actions",width:260,valueGetter:function(e){return m()(e.row.actions).format(n["SPA\u0421E_FULL_FORMAT"])}}],y=function(e){var t=e.filter,r=(0,c.useState)([]),n=(0,a.Z)(r,2),i=n[0],o=n[1],l=(0,c.useState)(!1),s=(0,a.Z)(l,2),d=s[0],h=s[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,x.Z)((0,p.Z)().mark((function e(){var r;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.X)({filter:t});case 2:r=e.sent,o(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{h(!0),e()}catch(r){console.log(r)}finally{h(!1)}}),[t]),d?(0,A.jsx)(v.Z,{width:"100%",component:"div",height:"400px",children:(0,A.jsx)(j._,{rows:i,columns:w})}):0===i.length?(0,A.jsx)(u.Z,{display:"flex",justifyContent:"center",children:(0,A.jsx)(f.Z,{children:"First add data"})}):(0,A.jsx)(j._,{rows:i,columns:w,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0})},b=r(2982),D=function(){var e=m()(),t=e.clone().startOf("month").startOf("week").clone().subtract(1,"day"),r=(0,b.Z)(Array(42)).map((function(){return t.add(1,"day").clone()}));return(0,A.jsx)(u.Z,{bgcolor:"#ccc",display:"grid",gap:"1px",gridTemplateColumns:"repeat(7, 1fr)",gridTemplateRows:"repeat(6, 1fr)",children:r.map((function(t){return(0,A.jsx)(u.Z,{color:"#fff",bgcolor:"#837373",minHeight:"80px",children:(0,A.jsx)(u.Z,{display:"flex",justifyContent:"flex-end",children:(0,A.jsx)(u.Z,{color:t.isSame(e,"day")?"#ff0000":"#000",pt:"10px",pr:"10px",children:(0,A.jsx)(f.Z,{children:t.format(n.DAY)})})})},t.unix())}))})},L=r(148),T=r(8854),E=function(e){var t=e.filter,r=e.handleToggleFilter;return(0,A.jsx)(u.Z,{maxWidth:"400px",children:(0,A.jsxs)(L.Z,{fullWidth:!0,color:"primary",value:t,exclusive:!0,onChange:r,"aria-label":"Platform",children:[(0,A.jsx)(T.Z,{fullWidth:!0,value:"actual",children:"Actual"}),(0,A.jsx)(T.Z,{fullWidth:!0,value:"history",children:"History"})]})})},k=function(){var e=(0,c.useState)(s.f.ACTUAL),t=(0,a.Z)(e,2),r=t[0],n=t[1],p=(0,c.useState)(s.V.TABLE_VIEW),x=(0,a.Z)(p,2),Z=x[0],m=x[1];return(0,A.jsx)(l.A,{title:"Dashboard",children:(0,A.jsxs)(u.Z,{component:"section",pt:"30px",pb:"30px",children:[(0,A.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Z===s.V.TABLE_VIEW?(0,A.jsx)(E,{filter:r,handleToggleFilter:function(e,t){n(t)}}):null,(0,A.jsx)(u.Z,{children:(0,A.jsxs)(d.Z,{component:o.rU,to:"/vacation/request",color:"primary",variant:"extended","aria-label":"add",children:[(0,A.jsx)(i.Z,{}),(0,A.jsx)(u.Z,{pr:"20px",pl:"20px",children:(0,A.jsx)(f.Z,{children:"New request"})})]})}),(0,A.jsx)(u.Z,{children:(0,A.jsx)(h.Z,{variant:"contained",onClick:function(){Z===s.V.TABLE_VIEW?m(s.V.CALENDAR_VIEW):m(s.V.TABLE_VIEW)},children:s.V.CALENDAR_VIEW})})]}),(0,A.jsx)(u.Z,{overflow:"auto",pt:"30px",height:"400px",width:"100%",children:Z===s.V.TABLE_VIEW?(0,A.jsx)(y,{filter:r}):(0,A.jsx)(D,{})})]})})}},7834:function(e,t,r){r.d(t,{X:function(){return u},m:function(){return d}});var n=r(1413),a=r(2982),i=r(4165),c=r(5861),o=r(2426),l=r.n(o),s=r(5546),u=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var r,n,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.filter,n=localStorage.getItem("requests")){e.next=4;break}return e.abrupt("return",[]);case 4:a=JSON.parse(n),e.t0=r,e.next=e.t0===s.f.ACTUAL?8:e.t0===s.f.HISTORY?9:10;break;case 8:return e.abrupt("return",a.filter((function(e){var t=e.endDate;return l()(t).isAfter(l()())})));case 9:return e.abrupt("return",a.filter((function(e){var t=e.endDate;return l()(t).isBefore(l()())})));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var r,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({});case 2:return r=e.sent,c=[].concat((0,a.Z)(r),[(0,n.Z)((0,n.Z)({},t),{},{id:l()().unix(),actions:l()().format("YYYY-MM-DD HH:mm:ss")})]),localStorage.setItem("requests",JSON.stringify(c)),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},919:function(e,t,r){r.d(t,{A:function(){return g}});var n=r(885),a=r(2791),i=r(1087),c=r(2892),o=r(4565),l=r(7394),s=r(4666),u=r(6015),d=r(5590),f=r(3811),h=r(3978),p=r(2462),x=r(7205),Z=r(184),m=function(e){var t=e.title,r=e.auth,m=e.email,j=e.handleLogOut,v=e.backLinkPath,g=(0,a.useState)(!1),A=(0,n.Z)(g,2),w=A[0],y=A[1],b=(0,a.useState)(null),D=(0,n.Z)(b,2),L=D[0],T=D[1];return(0,Z.jsx)(c.Z,{position:"static",children:(0,Z.jsxs)(s.Z,{children:[(0,Z.jsx)(u.Z,{children:v&&(0,Z.jsx)(d.Z,{component:i.rU,to:v,color:"secondary",variant:"circular",children:(0,Z.jsx)(l.Z,{})})}),(0,Z.jsx)(o.Z,{textAlign:"center",variant:"h6",component:"p",sx:{flexGrow:1},children:t}),r&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)(f.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){y(!0),T(e.currentTarget)},color:"inherit",children:(0,Z.jsx)(h.Z,{sx:{bgcolor:"#74gfhg"},children:m[0].toUpperCase()})}),(0,Z.jsx)(p.ZP,{open:w,anchorEl:L,onClose:function(){T(null),y(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,Z.jsxs)(u.Z,{p:"20px",children:[(0,Z.jsx)(o.Z,{children:m}),(0,Z.jsx)(u.Z,{color:"primary",display:"flex",justifyContent:"center",width:"100%",children:(0,Z.jsx)(x.Z,{title:"Logout",onClick:j,children:"Logout"})})]})})]})]})})},j=r(1868),v=r(7020),g=function(e){var t=e.title,r=e.children,n=e.backLinkPath,a=(0,j.K)(),i=a.email,c=a.handleLogOut,o=a.isLoggedIn;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m,{auth:o,email:i,handleLogOut:c,title:t,backLinkPath:n}),(0,Z.jsx)(v.Z,{component:"main",children:r})]})}}}]);
//# sourceMappingURL=670.5f16b081.chunk.js.map