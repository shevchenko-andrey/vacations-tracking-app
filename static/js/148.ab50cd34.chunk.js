"use strict";(self.webpackChunkvacations_tracking_app=self.webpackChunkvacations_tracking_app||[]).push([[148],{9148:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r,i,a=n(885),l=n(2791),c=n(2419),s=n(2892),o=n(4565),u=n(3811),d=n(4666),h=n(3978),p=n(3278),f=n(6015),x=n(7205),Z=n(184),j=function(e){var t=e.title,n=e.auth,r=e.email,i=e.handleLogOut,c=(0,l.useState)(!1),j=(0,a.Z)(c,2),v=j[0],m=j[1],g=(0,l.useState)(null),w=(0,a.Z)(g,2),b=w[0],A=w[1];return(0,Z.jsx)(s.Z,{position:"static",children:(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(o.Z,{textAlign:"center",variant:"h6",component:"p",sx:{flexGrow:1},children:t}),n&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)(u.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){m(!0),A(e.currentTarget)},color:"inherit",children:(0,Z.jsx)(h.Z,{sx:{bgcolor:"#74gfhg"},children:r[0].toUpperCase()})}),(0,Z.jsx)(p.ZP,{open:v,anchorEl:b,onClose:function(){A(null),m(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,Z.jsxs)(f.Z,{p:"20px",children:[(0,Z.jsx)(o.Z,{children:r}),(0,Z.jsx)(f.Z,{color:"primary",display:"flex",justifyContent:"center",width:"100%",children:(0,Z.jsx)(x.Z,{title:"Logout",onClick:i,children:"Logout"})})]})})]})]})})},v=n(1868),m=n(803),g=function(e){var t=e.title,n=e.children,r=(0,v.K)(),i=r.email,a=r.handleLogOut,l=r.isLoggedIn;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(j,{auth:l,email:i,handleLogOut:a,title:t}),(0,Z.jsx)(m.Z,{component:"main",children:n})]})};!function(e){e.TABLE_VIEW="table view",e.CALENDAR_VIEW="calendar view"}(r||(r={})),function(e){e.ACTUAL="actual",e.HISTORY="history"}(i||(i={}));var w=n(148),b=n(8854),A=n(5590),y=n(4165),E=n(5861),C=n(9940),L=n(1441),k=n(2426),I=n.n(k),S=function(){var e=(0,E.Z)((0,y.Z)().mark((function e(t){var n,r,a;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter,r=localStorage.getItem("requests")){e.next=4;break}return e.abrupt("return",[]);case 4:a=JSON.parse(r),e.t0=n,e.next=e.t0===i.ACTUAL?8:e.t0===i.HISTORY?9:10;break;case 8:return e.abrupt("return",a.filter((function(e){var t=e.endDate;return I()(t).isAfter(I()())})));case 9:return e.abrupt("return",a.filter((function(e){var t=e.endDate;return I()(t).isBefore(I()())})));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=[{field:"id",headerName:"Absence ID",width:130},{field:"type",headerName:"Type",width:120},{field:"startDate",headerName:"Start Date",width:130},{field:"endDate",headerName:"End Date",width:130},{field:"notes",headerName:"Notes",width:500},{field:"actions",headerName:"Actions",width:130}],T=function(e){var t=e.filter,n=(0,l.useState)([]),r=(0,a.Z)(n,2),i=r[0],c=r[1],s=(0,l.useState)(!1),u=(0,a.Z)(s,2),d=u[0],h=u[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,E.Z)((0,y.Z)().mark((function e(){var n;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({filter:t});case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{h(!0),e()}catch(n){console.log(n)}finally{h(!1)}}),[t]),d?(0,Z.jsx)(L.Z,{width:"100%",component:"div",height:"400px",children:(0,Z.jsx)(C._,{rows:i,columns:_})}):i.length<1?(0,Z.jsx)(f.Z,{display:"flex",justifyContent:"center",children:(0,Z.jsx)(o.Z,{children:"First add data"})}):(0,Z.jsx)(C._,{rows:i,columns:_,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0})};function N(){var e=(0,l.useState)(i.ACTUAL),t=(0,a.Z)(e,2),n=t[0],s=t[1],u=(0,l.useState)(r.TABLE_VIEW),d=(0,a.Z)(u,2),h=d[0],p=d[1];return(0,Z.jsx)(g,{title:"Dashboard",children:(0,Z.jsxs)(f.Z,{component:"section",pt:"30px",pb:"30px",children:[(0,Z.jsxs)(f.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,Z.jsx)(f.Z,{maxWidth:"400px",children:(0,Z.jsxs)(w.Z,{fullWidth:!0,color:"primary",value:n,exclusive:!0,onChange:function(e,t){s(t)},"aria-label":"Platform",children:[(0,Z.jsx)(b.Z,{fullWidth:!0,value:"actual",children:"Actual"}),(0,Z.jsx)(b.Z,{fullWidth:!0,value:"history",children:"History"})]})}),(0,Z.jsx)(f.Z,{children:(0,Z.jsxs)(A.Z,{color:"primary",variant:"extended","aria-label":"add",children:[(0,Z.jsx)(c.Z,{}),(0,Z.jsx)(f.Z,{pr:"20px",pl:"20px",children:(0,Z.jsx)(o.Z,{children:"New request"})})]})}),(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(x.Z,{variant:"contained",onClick:function(){h===r.TABLE_VIEW?p(r.CALENDAR_VIEW):p(r.TABLE_VIEW)},children:h})})]}),(0,Z.jsx)(f.Z,{overflow:"auto",pt:"30px",height:"400px",width:"100%",children:h===r.TABLE_VIEW?(0,Z.jsx)(T,{filter:n}):null})]})})}}}]);
//# sourceMappingURL=148.ab50cd34.chunk.js.map